# 더부동산 매물관리시스템 상세 QA 기획서

## 📋 QA 개요
**목적**: 사용자 관점에서 매물 등록/수정/삭제 기능의 완전한 동작 검증
**범위**: 실제 사용자 워크플로우 기반 엔드투엔드 테스트
**환경**: GitHub Pages 프로덕션 환경 (https://gma3561.github.io/The-realty_hasia/)

## 🎯 테스트 대상 기능

### 1. 매물 등록 기능 (Property Registration)
#### 1.1 기본 등록 프로세스
- **시나리오**: 일반 사용자가 새 매물을 등록
- **선행조건**: 메인 페이지 접근
- **테스트 단계**:
  1. 매물등록 버튼 클릭
  2. 폼 페이지 이동 확인
  3. 필수 입력 필드 작성
  4. 선택 입력 필드 작성 
  5. 저장 버튼 클릭
  6. 확인 다이얼로그 처리
  7. 목록 페이지 자동 이동
  8. 새 매물이 목록에 표시되는지 확인

#### 1.2 필수 필드 검증
- **시나리오**: 필수 항목 누락 시 적절한 검증
- **테스트 케이스**:
  - 등록일 없이 저장 시도
  - 매물명 없이 저장 시도
  - 담당자 선택 없이 저장 시도
- **예상 결과**: 적절한 오류 메시지 표시

#### 1.3 자동 값 설정 검증
- **시나리오**: 폼 로드 시 자동 설정 값 확인
- **테스트 케이스**:
  - 등록일이 오늘 날짜로 자동 설정
  - 사용승인일이 1년 전으로 자동 설정
- **예상 결과**: 올바른 기본값 설정

#### 1.4 면적 자동 계산
- **시나리오**: ㎡ ↔ 평 상호 변환 기능
- **테스트 케이스**:
  - ㎡ 입력 시 평으로 자동 변환
  - 평 입력 시 ㎡로 자동 변환
  - 공급면적/전용면적 분리 입력 (예: "84.5/59.8")
- **예상 결과**: 정확한 환산값 표시

#### 1.5 데이터 지속성
- **시나리오**: 등록된 데이터가 올바르게 저장
- **테스트 케이스**:
  - 등록 후 페이지 새로고침 시 데이터 유지
  - 다른 브라우저에서 동일 데이터 확인
- **예상 결과**: Supabase에 정확히 저장

### 2. 매물 수정 기능 (Property Update)
#### 2.1 수정 모드 진입
- **시나리오**: 관리자가 기존 매물 수정
- **선행조건**: 관리자 로그인 상태
- **테스트 단계**:
  1. 매물 목록에서 특정 매물 클릭/선택
  2. 수정 버튼 또는 더블클릭으로 수정 모드 진입
  3. 폼에 기존 데이터 자동 로드 확인
  4. 페이지 제목이 "매물수정"으로 변경 확인

#### 2.2 권한 검증
- **시나리오**: 일반 사용자의 수정 시도 차단
- **테스트 케이스**:
  - 비로그인 상태에서 수정 시도
  - 일반 사용자 권한으로 수정 시도
- **예상 결과**: "관리자만 수정 가능" 메시지 표시

#### 2.3 데이터 수정 및 저장
- **시나리오**: 기존 매물 정보 변경
- **테스트 케이스**:
  - 매물명 변경
  - 가격 정보 수정
  - 상태값 변경 (거래가능 → 거래완료)
  - 특이사항 추가/수정
- **예상 결과**: 변경사항이 정확히 반영

#### 2.4 수정 히스토리 추적
- **시나리오**: 수정 이력이 감사로그에 기록
- **테스트 케이스**:
  - 수정 전후 데이터 비교
  - 수정 시간 및 사용자 정보 기록
- **예상 결과**: 감사로그 테이블에 변경이력 저장

### 3. 매물 삭제 기능 (Property Deletion)
#### 3.1 삭제 권한 검증
- **시나리오**: 관리자만 삭제 가능
- **선행조건**: 매물 목록에 삭제할 데이터 존재
- **테스트 케이스**:
  - 비로그인 상태 삭제 시도
  - 일반 사용자 삭제 시도
  - 관리자 삭제 시도
- **예상 결과**: 권한에 따른 적절한 처리

#### 3.2 삭제 확인 프로세스
- **시나리오**: 실수 방지를 위한 확인 절차
- **테스트 단계**:
  1. 삭제 버튼 클릭
  2. 삭제 확인 모달 표시
  3. 매물명이 모달에 정확히 표시
  4. "취소" 선택 시 삭제 취소
  5. "확인" 선택 시 삭제 진행

#### 3.3 소프트 삭제 동작
- **시나리오**: 실제 데이터는 보존, 상태만 변경
- **테스트 케이스**:
  - 삭제 후 목록에서 사라짐 확인
  - 데이터베이스에서 status='삭제됨'으로 변경 확인
  - 물리적 삭제가 아닌 논리적 삭제 확인
- **예상 결과**: 데이터 보존 + 화면에서 제거

#### 3.4 실시간 업데이트
- **시나리오**: 다른 사용자 화면에서 즉시 반영
- **테스트 케이스**:
  - 한 브라우저에서 삭제
  - 다른 브라우저에서 자동 업데이트 확인
- **예상 결과**: 실시간 동기화

### 4. 권한 관리 시스템 (Permission Management)
#### 4.1 관리자 로그인
- **시나리오**: 관리자 권한 획득 프로세스
- **테스트 단계**:
  1. 관리자 로그인 페이지 접근
  2. 올바른 비밀번호 입력
  3. 세션 저장 확인
  4. 관리자 기능 활성화 확인

#### 4.2 세션 관리
- **시나리오**: 로그인 상태 유지 및 만료
- **테스트 케이스**:
  - 페이지 새로고침 후 로그인 상태 유지
  - 브라우저 재시작 후 세션 확인
  - 로그아웃 시 권한 즉시 해제
- **예상 결과**: 적절한 세션 관리

### 5. 통합 워크플로우 (End-to-End Workflow)
#### 5.1 완전한 매물 생명주기
- **시나리오**: 매물 등록 → 수정 → 삭제 전체 과정
- **테스트 단계**:
  1. 새 매물 등록
  2. 등록된 매물 목록에서 확인
  3. 해당 매물 수정
  4. 수정사항 반영 확인  
  5. 해당 매물 삭제
  6. 목록에서 제거 확인

#### 5.2 동시 사용자 시나리오
- **시나리오**: 여러 사용자가 동시에 작업
- **테스트 케이스**:
  - 사용자A가 매물 등록하는 동안 사용자B가 목록 조회
  - 사용자A가 매물 수정하는 동안 사용자B가 동일 매물 조회
  - 실시간 데이터 동기화 확인
- **예상 결과**: 데이터 일관성 유지

### 6. 오류 상황 처리 (Error Handling)
#### 6.1 네트워크 오류
- **시나리오**: 인터넷 연결 불안정 상황
- **테스트 케이스**:
  - 저장 중 연결 끊김
  - 로딩 중 타임아웃
  - 오프라인 상태에서 작업 시도
- **예상 결과**: 적절한 오류 메시지 및 복구 안내

#### 6.2 데이터 무결성
- **시나리오**: 잘못된 데이터 입력 시도
- **테스트 케이스**:
  - 극도로 긴 텍스트 입력
  - 특수문자 입력
  - SQL 인젝션 시도
  - XSS 공격 시도
- **예상 결과**: 적절한 검증 및 차단

## 🎯 성공 기준 (Success Criteria)
1. **기능성**: 모든 CRUD 작업이 정상 동작
2. **사용성**: 직관적이고 오류 없는 사용자 경험
3. **신뢰성**: 데이터 손실 없이 안정적 동작
4. **성능**: 3초 이내 응답시간
5. **보안**: 권한 기반 접근제어 정상 동작
6. **호환성**: 주요 브라우저에서 일관된 동작

## 📊 테스트 환경
- **브라우저**: Chrome, Firefox, Safari (WebKit)
- **디바이스**: 데스크톱, 태블릿, 모바일
- **네트워크**: 정상, 느린 연결, 오프라인
- **데이터베이스**: Supabase 실시간 동기화
- **사용자 권한**: 관리자, 일반 사용자, 비로그인

## ⚡ 자동화 전략
- **Playwright 활용**: 브라우저 자동화로 반복 테스트
- **실데이터 검증**: 실제 Supabase 데이터베이스 연동 테스트
- **다중 브라우저**: 크로스 브라우저 호환성 검증
- **스크린샷 비교**: UI 일관성 검증
- **성능 측정**: 로딩 시간 및 응답 속도 측정